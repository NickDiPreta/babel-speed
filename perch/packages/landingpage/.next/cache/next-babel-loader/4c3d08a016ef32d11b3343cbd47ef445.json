{"ast":null,"code":"import Cors from \"cors\";\nimport initMiddleware from \"../lib/init-middleware\"; // Initialize the cors middleware\n\nconst cors = initMiddleware(Cors({\n  // Only allow requests with GET, POST and PUT\n  methods: [\"GET\", \"POST\", \"PUT\"]\n}));\nexport default (async (req, res, next) => {\n  const response = await cors(req, res);\n\n  if (response instanceof Error) {\n    console.log(\"cors error\");\n    throw new Error(\"Unable to initialize cors\");\n  }\n\n  console.log(\"cors passed\");\n  return next();\n});","map":{"version":3,"sources":["/Users/jackiedong/Documents/perch/perchcredit.github.io/perch/packages/landingpage/middlewares/corsMiddleware.js"],"names":["Cors","initMiddleware","cors","methods","req","res","next","response","Error","console","log"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,cAAP,MAA2B,wBAA3B,C,CAEA;;AACA,MAAMC,IAAI,GAAGD,cAAc,CACzBD,IAAI,CAAC;AACH;AACAG,EAAAA,OAAO,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB;AAFN,CAAD,CADqB,CAA3B;AAOA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACvC,QAAMC,QAAQ,GAAG,MAAML,IAAI,CAACE,GAAD,EAAMC,GAAN,CAA3B;;AAEA,MAAIE,QAAQ,YAAYC,KAAxB,EAA+B;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAM,IAAIF,KAAJ,CAAU,2BAAV,CAAN;AACD;;AACDC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,SAAOJ,IAAI,EAAX;AACD,CATD","sourcesContent":["import Cors from \"cors\";\nimport initMiddleware from \"../lib/init-middleware\";\n\n// Initialize the cors middleware\nconst cors = initMiddleware(\n  Cors({\n    // Only allow requests with GET, POST and PUT\n    methods: [\"GET\", \"POST\", \"PUT\"],\n  })\n);\n\nexport default async (req, res, next) => {\n  const response = await cors(req, res);\n\n  if (response instanceof Error) {\n    console.log(\"cors error\");\n    throw new Error(\"Unable to initialize cors\");\n  }\n  console.log(\"cors passed\");\n  return next();\n};\n"]},"metadata":{},"sourceType":"module"}