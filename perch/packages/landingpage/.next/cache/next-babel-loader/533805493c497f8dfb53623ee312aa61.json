{"ast":null,"code":"import Cors from \"cors\";\nimport initMiddleware from \"../../lib/init-middleware\"; // Initialize the cors middleware\n\nconst cors = initMiddleware(Cors({\n  // Only allow requests with GET, POST and PUT\n  methods: [\"GET\", \"POST\", \"PUT\"]\n}));\nexport default (async (req, res) => {\n  // Run cors\n  await cors(req, res);\n  const signedUrl = \"https://wellick-lease-image-s3-stage.s3.amazonaws.com/lease-image-1-1600825908270?AWSAccessKeyId=AKIAWQRXSB72EUDRGGZB&Expires=1600828908&Signature=zli4po3GhzvQ0ka%2BCv6yvnb%2Bjks%3D\";\n  let file = req.body;\n  let res2;\n\n  if (file) {\n    res2 = await fetch(signedUrl, {\n      method: \"PUT\",\n      body: file\n    });\n  }\n\n  console.log(res2); // res.json(res2);\n\n  res.json({\n    hi: \"success\"\n  });\n});","map":{"version":3,"sources":["/Users/jackiedong/Documents/perch/perchcredit.github.io/perch/packages/landingpage/pages/api/upload-lease.js"],"names":["Cors","initMiddleware","cors","methods","req","res","signedUrl","file","body","res2","fetch","method","console","log","json","hi"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,cAAP,MAA2B,2BAA3B,C,CAEA;;AACA,MAAMC,IAAI,GAAGD,cAAc,CACzBD,IAAI,CAAC;AACH;AACAG,EAAAA,OAAO,EAAE,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB;AAFN,CAAD,CADqB,CAA3B;AAOA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC;AACA,QAAMH,IAAI,CAACE,GAAD,EAAMC,GAAN,CAAV;AAEA,QAAMC,SAAS,GACb,uLADF;AAEA,MAAIC,IAAI,GAAGH,GAAG,CAACI,IAAf;AAEA,MAAIC,IAAJ;;AACA,MAAIF,IAAJ,EAAU;AACRE,IAAAA,IAAI,GAAG,MAAMC,KAAK,CAACJ,SAAD,EAAY;AAC5BK,MAAAA,MAAM,EAAE,KADoB;AAE5BH,MAAAA,IAAI,EAAED;AAFsB,KAAZ,CAAlB;AAID;;AACDK,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EAfiC,CAgBjC;;AACAJ,EAAAA,GAAG,CAACS,IAAJ,CAAS;AAAEC,IAAAA,EAAE,EAAE;AAAN,GAAT;AACD,CAlBD","sourcesContent":["import Cors from \"cors\";\nimport initMiddleware from \"../../lib/init-middleware\";\n\n// Initialize the cors middleware\nconst cors = initMiddleware(\n  Cors({\n    // Only allow requests with GET, POST and PUT\n    methods: [\"GET\", \"POST\", \"PUT\"],\n  })\n);\n\nexport default async (req, res) => {\n  // Run cors\n  await cors(req, res);\n\n  const signedUrl =\n    \"https://wellick-lease-image-s3-stage.s3.amazonaws.com/lease-image-1-1600825908270?AWSAccessKeyId=AKIAWQRXSB72EUDRGGZB&Expires=1600828908&Signature=zli4po3GhzvQ0ka%2BCv6yvnb%2Bjks%3D\";\n  let file = req.body;\n\n  let res2;\n  if (file) {\n    res2 = await fetch(signedUrl, {\n      method: \"PUT\",\n      body: file,\n    });\n  }\n  console.log(res2);\n  // res.json(res2);\n  res.json({ hi: \"success\" });\n};\n"]},"metadata":{},"sourceType":"module"}